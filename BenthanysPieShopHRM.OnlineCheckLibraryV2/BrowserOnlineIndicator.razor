@inject IJSRuntime JSRunTime

@if (_isOnline)
{
  <div class="isOnline">You're online</div>
}
else
{
  <div class="isOffline">You're offline</div>
}

@code {
    private bool _isOnline = true;

    protected async override Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var dotnetRef = DotNetObjectReference.Create(this);
            await JSRunTime.InvokeVoidAsync("bethanyOnlineCheckLib.registerOnlineHandler",
            dotnetRef);
        }
    }


    [JSInvokable("SetOnlineStatus")]
    public void SetOnlineStatus(bool isOnline)
    {
        _isOnline = isOnline;
        StateHasChanged();
    }

}
